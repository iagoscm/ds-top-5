{% extends 'base.html' %} {% block content %}

<div style="height: 400px; padding: 40px">
  <h2>Reviews</h2>
  <div class="col-9 search-div">
    <form action="{% url 'list_reviews' %}" method="get">
      <div class="input-group">
        <input
          name="q"
          class="form-control py-2 border-right-0 border"
          type="search"
          placeholder="Procure por tipo de midia, nome ou assunto..."
          id="review-search"
        />
        <span class="input-group-append">
          <button
            class="btn btn-outline-secondary border-left-0 border"
            type="submit"
          >
            <i class="fa fa-search"></i>
          </a>
        </span>
      </div>
    </form>
  </div>
  <ul class="review-list">
    {% for review in reviews %}
    <li class="review-item">
        <a class="hyperlink2" href="{{review.id}}">
          <span
            style="color: rgb(255, 217, 0); font-size: 25px; font-weight: bold"
            >{{ review.title }}</span
          >
          <i style="color: darkgrey; font-size: 15px"
            >{{review.created_at}}</i
          ></a
        >
    </li>
    {% endfor %}
  </ul>
</div>

<script>
    $(function () {
        $("#review-search").autocomplete({
            source: '{% url "review_autocomplete" %}',
            minLength: 2,
            select: function (event, ui) {
                $('#media').val(ui.item.label);
                $('#media-id').val(ui.item.value);
                return false;
            },
            focus: function (event, ui) {
                $('#media').val(ui.item.label);
                $('#media-id').val(ui.item.value);
                return false;
            }
        });
    });
</script>

{% endblock %}
